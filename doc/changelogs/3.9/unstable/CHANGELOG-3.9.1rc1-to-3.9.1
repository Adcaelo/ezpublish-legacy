Changes from 3.9.1rc1 to 3.9.1

*Kernel:

*Design:

*Package system:

*Bugfixes:
- Fixed bug #10307: Missing variable cheking in template compilation.
  ( Merged from stable/3.7 rev. 18211, stable/3.8 rev. 18212 )
- Fixed bug #10330: Minor typo in ezcontentclassattribute::clone().
  (Manually merged from stable/3.6 (3.6.12) rev. 18229)
- Fixed bug #10360: Ampersands in URLs are not encoded.
  (Merged from trunk rev. 18236)