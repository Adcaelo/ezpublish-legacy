Changes from 3.8.6 to 3.8.7

*INI settings:
- Added viewcache.ini:[ViewCacheSettings].ClearRelationTypes :
  Determines which types of related objects will be choosen to clear view caches.

*Library:
- Added library function for reading extension information.
  eZExtension::extensionInfo()

*Kernel:
- Implemented enhancement #9194: Improvements to ini editor.
  (Merged from trunk (3.9.0rc2) rev. 17559)

*Package system:
- Command line package tool 'ezpm.php' updated:
  o 'list', 'import', 'install' command have been changed to match admin
     interface functionality.
  o  Implemented suggestion #010001: 'ezinstallscript' and 'ezextension' items are
     supported by 'add' command.
  o  Implemented suggestion : Allow ezpm to set vendor.
  (Merged from trunk (3.10.0alpha1) rev. 17983)

*Design:

*Bugfixes:
- Fixed bug #9250: It's possible to add an object more than once to a node
  (Merged from trunk (3.9.0rc1) rev.17347)
- Fixed bug #9314: Using xml block attribute and providing incorrect input
  may lead to fatal error in some cases.
- Fixed bug #9320: findNode(): copy-paste code (remoteID ignored)
  (Merged from trunk (3.9.0rc1) rev.17369)
- Fixed bug #9155: bin/php/clusterize.php does not work for ezmedia 
  datatype files.
- Fixed bug #9317: fatal error at importing package
- Fixed bug #9265: Fatal Error in kernel/classes/ezcontentobjectattribute.php
- Fixed bug #9061: Datatype Object relation in class user
- Fixed bug #9349: Editing class with missing datatype will cause fatal error.
  ( Manually merged from trunk (3.9.0rc1) rev.17406 )
- Fixed bug #9030: eZMail::sender causes warnings
- Fixed bug #9098: si operator ignores decimals parameter 
  when prefix is "none"
- Fixed bug #8863: Empty let or default block will cause warnings
- Fixed bug #9273: Compare versions functionality is buggy
- Fixed bug #9382: Quicktime template override contains invalid size.
  (Merged from trunk(3.9.0rc1) rev. 17444)
- Fixed bug #7783: Wrong Message when using PHP 5x and ezp 3.6
- Fixed bug #9291: eZContentUpload misses includes
  (Manually merged from trunk (3.9.0rc1) rev. 17456).
- Fixed bug #9258: Path is not set in user/activate.
- Fixed bug #9266: Binary files not deleted.
- Fixed bug #9386: Content truncated in simplified xml input.
  (Merged from trunk(3.9.0rc1) rev. 17468)
- Fixed bug #9418: "Translate from"-box in edit interface is rendered 
  incorrectly.
  (Merged from trunk(3.9.0rc1) rev.17476)
- Fixed bug #9353: Uploading files to automatic placement fails when placement
  node changes name.
- Fixed bug #9416: User selfedit no longer works
- Fixed bug #9483: Typo error in ts.
  (Merged from trunk (3.9.0rc2) rev. 17521)
- Fixed bug #9458: Cannot break/continue 1 level in eZpublish (not ezdhtml)
- Fixed bug #9514: Typo error 3.9rc1.
  (Merged from trunk (3.9.0rc2) rev. 17527)
- Fixed bug #9508: Minor typo errors in 3.9rc1.
  (Merged from trunk (3.9.0rc2) rev. 17530)
- Fixed bug #9394: Only variables should be passed by reference 
  in eZSearchEngine
- Fixed bug #9243: "Compare versions" and "Reverse related for subtree" 
  functionalities don't works correctly.
- Fixed bug #9092: Policy limitations cannot recieve values from extension.
- Fixed bug #9300: Memory issue with the updatecontentobjectname.php script 
  due to caching.
  (Merged from trunk (3.9.0rc2) rev. 17551)
- Fixed bug #8844: don't show language selection page when only one language available.
- Fixed bug #8809: eZContentObjectTreeNode::assignSectionToSubTree does
  not clear $eZContentObjectContentObjectCache.
  (Merged from trunk (3.9.0rc2) rev. 17560)
- Fixed bug #8785: Permission problems on Node 1
  (Merged from trunk (3.9.0rc2) rev. 17567)
- Fixed bug #9273: Compare versions functionality is buggy
- Fixed bug #9374: exporting object content with media file doesn't work
  ( Merged from stable/3.6 rev. 17578, stable/3.7 rev. 17579 )
- Fixed bug #9614: Undefined offset 0 in ezcontentoperationcollection.php
- Fixed bug #9123: When having Interface locales like "ger" or "ita".
  (Merged from trunk (3.9.0rc2) rev. 17615)
- Fixed bug #9434: Wrong ui_context for user/activate.
  (Merged from trunk (3.9.0rc2) rev. 17633)
- Fixed bug #9257: Path is not set in user/success.
  (Merged from trunk (3.9.0rc2) rev. 17637)
- Fixed bug #9611: Paging in Resultset with Subtree limitation doesn't work
  (Merged from trunk (3.9.0rc2) rev. 17657)
- Fixed bug #9644: Setup wizard behaviour when only one package is available
  (Merged from trunk (3.9.0rc2) rev. 17662)
- Fixed bug #9577: Missing bookmarks in OE browse mode.
  (Merged from trunk (3.9.0rc2) rev. 17664)
- Fixed bug #9642: Brazilian flag has wrong filename
  (Merged from trunk (3.9.0rc2) rev. 17683)
- Fixed bug #9743: Path is not set in kernel/content/versionview.php
  (Merged from trunk (3.9.0rc2) rev. 17692)
- Fixed bug #9529: Shop - missing content in demo product.
- Fixed bug #9537: The image field in the "Site settings" edit interface 
  is not confined to the page width.
  (Merged from trunk (3.9.0rc2) rev. 17699)
- Fixed bug #9467: ezwebin installation script is unable 
  to accesss setup wizard varibles when using kickstart.ini.
  (Merged from trunk (3.9.0rc2) rev. 17698,17700)
- Fixed bug #9766: Template error when viewing embedded image without size
  parameter.
  (Merged from stable/3.6 (3.6.10) rev. 17709)
- Fixed bug #9760: Quick settings toolbar doesn't refresh settings by siteaccess.
  (Merged from trunk (3.9.0) rev. 17713)
- Fixed bug #9770: Adding a related object when you have content that does not
  validate.
- Fixed bug #9411: sslzones redirect to non-ssl fails.
- Fixed bug #9745: Collected information list shows empty items.
- Fixed bug #7642: LDAP users bug
  (Manually merged from trunk (3.9.0) rev. 17746)
- Fixed bug #009793: Typo error.
  (Merged from trunk (3.9.0rc2) rev. 17748)
- Fixed bug #9789: 'Editor' role doesn't have a policy to access OE.
- Fixed bug #9787: Cannot remove objects from trash with editor permissions.
- Fixed bug #9831: Obsolete code in kernel/classes/ezworkflowtype.php
- Fixed bug #8171: Installer innodb check mechanism flawed.
- Fixed bug #9798: user/register does not use internal drafts feature.
  (Merged from trunk (3.9.0) rev. 17765)
- Fixed bug #8328: LDAP user manage cronjob / login handler unable to remove
  old nodes
  (Manualy merged from trunk (3.9.0) rev. 17761)
- Fixed bug #9851: Certain table format kills PDF export.
- Fixed bug #8763: the class filter for content creation does not use 
  the parentdepth property, assigned in a role
- Fixed bug #9461: Wrong site access list used in some templates of the admin interface.
  (Merged from trunk (3.9.0alpha1) rev. 17791)
- Fixed bug #9846: foreach internals
- Fixed bug #9850: Possible image template class problem.
- Fixed bug #9887: Certain sequence in simplified XML input may cause line 
  removal.
  (Merged from trunk (3.9.0) rev. 17816)
- Fixed bug #9610: Unexpected error changing sub-items sorting type when user 
  has limited editing role
- Fixed bug #9901: Setup wizard step site_access doesn't work with kickstart.ini
  properly.
  (Merged from trunk (3.10.0alpha1) rev. 17830)
- Fixed bug #9790: using single quotes in strings may cause problem with french
  language in php compiled template
- Fixed bug #9867: Publishing from version view interface is broken.
  (Merged from trunk (3.10.0alpha1) rev. 17846)
- Fixed bug #9861: foreach does not work recursive
- Fixed bug #9839: Wrong total number of pending items in pendinglist view
- Fixed bug #9940: Error in design/base/override/templates/embed/image.tpl
  (Merged from trunk (3.10.0alpha1) rev. 17868)
- Fixed bug #9964: Typo in lib/ezlocale/classes/ezdatetime.php
  (Merged from trunk (3.10.0alpha1) rev. 17873)
- Fixed bug #8653: Time conversion error when setting Expire-header
  in ezhttpheader.php
  (Merged from stable/3.9 (3.9.1) rev.17887)
- Fixed bug #9900: Sending mail issue.
  (Merged from trunk (3.10.0alpha1) rev. 17890)
- Fixed bug #9860: ezp390 setup wizard sets admin password to "publish" without
  notifying user
  (Merged from stable/3.9 (3.9.1) rev. 17899)
- Fixed bug #10000: Slowdowns in setup wizard caused by string conversions.
  (Merged from stable/3.9 (3.9.1) rev. 17905)
- Fixed bug #010011: No existing "patch" package type.
  (Merged from trunk (3.10.0alpha1) rev. 17914)
- Fixed bug #9987: Restoring an object from the trash
  (Merged from trunk (3.10.0alpha1) rev. 17925)
- Fixed bug #9683: Section assignment for large subtrees doesn't work with oracle.
- Fixed bug #5516:PDF-on-the-fly-issue with IE: wrong header?
- Fixed bug #10008: Missing content/edit_conflict.tpl in standard design
  (Merged from stable/3.9 (3.9.1) rev. 17946)
- Fixed bug #9553: user account verification gives misleading information
- Fixed bug #9995: Email addresses with underscores
- Fixed bug #10078: 'vendor' field is not kept when exporting package.
  (Merged from trunk (3.10.0alpha1) rev. 17983)
- Fixed bug #8718: ezpm.php call to undefined function.
  (Merged from trunk (3.10.0alpha1) rev. 17980)
- Fixed bug #9962: [Workflow] When speciying a section for content approval mechanism,
  content appears without being approved.
  (Merged from stable/3.9 (3.9.1) rev. 17990)
- Fixed bug #9550: Broken section view.
  (Merged from stable/3.9 (3.9.1) rev. 17977)
- Fixed bug #10048: pdf( set_margin, ... - fails for link text.
- Fixed bug #8754: installation wizard test for zlib should be critical, not optional.
  (Merged from trunk (3.10.0alpha1) rev. 18003)
- Fixed bug #010097: Plain passwords in debug output.
  (Merged from trunk (3.10.0alpha1) rev. 18018)
- Fixed bug #9043: information_schema table is displayed in db selection list
  of setup wizard.
  (Merged from stable/3.9 (3.9.1) rev. 18029)
- Fixed bug #9202: Reverse_related_objects fetch results in a query error
  (Manually merged from stable/3.9 (3.9.1) rev. 18034)
- Fixed bug #9876: setup wizzard, text does not match visual
  (Merged from stable/3.9 (3.9.1) rev. 18047)
- Fixed bug #10105: collectedinfo.php don't include ezcontentobjecttreenode.php.
  (Manually merged from stable/3.6 (3.6.12) rev. 18053)
- Fixed bug #010132: Bug in eZDiscount.
- Fixed bug #010150: anchor tag is not a single tag.
  (Merged from trunk (3.10.0alpha1) rev. 18080)
- Fixed bug #9984: Multiple locations and content cache problem.  
  (Merged from trunk (3.10.0alpha1) rev. 18083)
- Fixed bug #8966: Impossible to generate documentation with stable release.
  (Merged from stable/3.9 (3.9.1) rev. 18089)
- Fixed bug #9924: SSLSubtrees failure.
  (Merged from trunk (3.10.0alpha1) rev. 18096)
- Fixed bug #9050: Links to non-existing stylesheets.
  (Manually merged from trunk (3.10.0alpha1) rev. 18103)
- Fixed bug #8498: Missing JavaScript function used in ezobjectrelationlist template.
  (Merged from trunk (3.10.0alpha1) rev. 18107)
- Fixed bug #10142: eZXMLText::inputHandler uses $this while it is sometimes
  called statically.
  (Merged from trunk (3.10.0alpha1) rev. 18112)
- Fixed bug #9074: Coding standards: tabs in source code.
  (Merged from trunk (3.10.0alpha1) rev. 18120)
- Fixed bug #10005: Hardcoded object id
  (Merged from trunk (3.10.0alpha1) rev. 18136)
- Fixed bug #9908: Linebreaks inside <strong> tag.
  (Merged from trunk (3.10.0alpha1) rev. 18179)
- Fixed bug #9753: [eZ Cluster mode] PHP Warnings in ezphpcreator.php and ezexpiryhandler.php.
  (Merged from trunk (3.10.0alpha1) rev. 18183)
- Fixed bug #10241: Duplicated toc anchors with non-strict headers.
  (Merged from trunk (3.10.0alpha1) rev. 18189)
- Fixed bug #10307: Missing variable cheking in template compilation.
  (Merged from stable/3.7 rev. 18211)
- Fixed bug #10330: Minor typo in ezcontentclassattribute::clone().
  (Manually merged from stable/3.6 (3.6.12) rev. 18229)
- Fixed bug #10360: Ampersands in URLs are not encoded.
- Fixed bug #10130: Editing object with image make 
  very long sql query with out use of index.
  (Merged from trunk (3.10.0alpha1) rev. 18239)
- Fixed bug #10414: por-BR locale sets incorrect country name
  (Merged from trunk (3.10.0alpha1) rev. 18335, release/3.9.1 rev. 18336 )
- Fixed bug #008827: Update shipping info when updating values in the basket.
  (Merged from trunk rev. 18340, where changes in kernel/shop/basket.php and
  kernel/shop/ezshopoperationcollection.php is removed, since the functionality
  do not exist in version 3.8).
- Fixed bug: template warning 'variable <foo> already exists' while doing 
  recursive include in 'foreach'.
  (Merged from trunk (3.10.0alpha1) rev. 18361)
