Changes from 3.8.0 to 3.8.1

*Kernel:

Clustering:
- Changed the way clustering settings are stored.
  For more details see doc/features/3.8/clustering.txt.
- Optimized index_image.php to gain more speed.

*Bugfixes:
- Fixed bug #7741: safe_mode off evaluates to "true".
  (Merged from trunk (3.9.0alpha1) rev. 15978)
- Fixed bug #8218: unknow variable $ouput (in ezxhtmlxmloutput.php).
  (Merged from trunk (3.9.0alpha1) rev. 15986)
- Fixed bug #8210: ez crash when using fetch content/related_objects 
  without a correct object_id.
  (Merged from trunk (3.9.0alpha1) rev. 15988)
- Fixed bug #8192: content tree fetch function fails with parent_node_id 
  as array and depth set.
  (Merged from stable35 (3.5.11) rev. 16008)
- Fixed bug #8243: Template compiler does not check if object isset 
  when fetching attributes.
  ( Merged from stable/3.7 rev. 16032 )
- Fixed bug #8241: Collaboration module: fetchItemList and fetchItemCount don't 
  agree on param 'status'.
  (Merged from stable/3.6 (3.6.9) rev. 16028)
- Fixed bug #8236: articlethumbnail still listed 2 times in image.ini.append.
  (Merged from trunk (3.9.0alpha1) rev.16037)
- Fixed bug #8224: Fallback language for US should not be ger-GB.
  (Fixed a typo).
- Fixed bug #8223: Notification is sent even though object is hidden 
  when you publish it.
  (Merged from stable/3.7 (3.7.7) rev. 16043)
- Fixed bug #8245: Reference bugs in eZContentObjectTree::canCreateClassList 
  and related functions.
  ( Merged from stable/3.7 rev. 16047 )
- Fixed bug #8246: toolbar template "user_country" missing.
- Fixed bug #8242: Wrong PHP requrements in setup.ini.
- Fixed broken script bin/php/clusterize.php.
- Fixed bug #8253: Deleting an unpublished object returns an error.
  (Merged from trunk (3.9.0alpha1) rev. 16067)
- Fixed bug #8244: Unwanted space after emphasize XML tag.
- Fixed bug #8156: Encoding format in RSS feeds.
  (Merged from stable/3.7 (3.7.7) rev. 16075, 16077)
- Fixed bug #8258: Accumulator $key does not exists, 
  run eZDebug::accumulatorStart first.
  (Merged from stable/3.7 (3.7.7) rev. 16085)
- Fixed bug #8261: Editing of objects crashes.
  (Merged from trunk (3.9.0alpha1) rev. 16093)
- Fixed bug #8279: Typo in lib/ezfile/classes/ezlog.php.
  ( Merged from stable/3.6 rev. 16095, stable/3.7 rev. 16096 )
- Fixed bug #8289: eZDir::findSubitems() throws warning when searching areas 
  without read access.
  ( Merged from stable/3.6 rev. 16099, stable/3.7 rev. 16100 )
- Fixed bug #8150: issue in the embed/image.tpl
  (Merged from stable/3.7 (3.7.7) rev. 16103)
- Fixed bug #8293: Bug in roman() operator.
  (Merged from trunk (3.9.0alpha1) rev. 16107)
- Fixed bug #8229: Image Upload in 3.8 doesn't work.
  (Merged from trunk (3.9.0alpha1) rev. 16111)
- Fixed bug #8297: Checkbox datatype Information collector bug.
  (Merged from stable/3.7 (3.7.7) rev. 16115)
- Fixed bug #8294: Warning: array_merge_recursive(): recursion detected 
  in ezuser.php.
  (Merged from trunk (3.9.0alpha1) rev. 16119)
- Fixed bug: RelatedSiteAccessList setting is set in override setting dir instead
  of siteaccess dir. Also it is not present and documented in main site.ini file.
  (Merged from trunk (3.9.0alpha1) rev. 16125)
- Fixed bug #8233: Problem with untranslateable content object attributes
  when switching main language.
- Fixed bug #8311: Literal tag changes all <br /> to \n and <p></p> to \n\n.
  (Merged from trunk (3.9.0alpha1) rev. 16131)
- Fixed bug #8184: Object Relation Lists after upgrade to 3.8 rc1.
- Fixed suggestion #6747: modulo parameter for delimeter.
  (Merged from stable/3.6 (3.6.9) rev. 16139)
- Fixed bug #8338: Attribute class property can_translate not properly respected
  when fetching data.
  (Merged from trunk (3.9.0alpha1) rev. 16143)
- Fixed bug #8344: Removing locations.
  (Removing of multiple locations doesn't work).
- Fixed bug #8343: Rss feed bug when importing into xml block.
- Fixed bug #8380: eZWizardBase - Operation in step definition does not work 
  properly.
  (Merged from stable/3.6 rev. 16157, stable/3.7 16158)
- Fixed bug #8287: kernel 1 error when editing content.
  (Merged from trunk (3.9.0alpha1) rev. 16162)
- Fixed bug #8372: Literal tag (even with html class) decodes all entities.
  (Merged from trunk (3.9.0alpha1) rev. 16167)
- Fixed bug #8308: Removing an object invalidates all the viewcache.
  (Merged from trunk (3.9.0alpha1) rev. 16173)
- Fixed bug #7898: Multiplexer fails when redirecting to template or cron.
  (Merged from trunk (3.9.0alpha1) rev. 16182)
- Fixed bug: Images disappear if ezimage attr is Not translatable.
  (e.g If image object has cze-CZ and eng-GB translations)
- Fixed bug: Image attr isn't updated after publishing if attr is Not translatable.
  (Image should be fetched from original attr)
- Fixed bug #8447: Template for with error cause crash.
  (Merged from trunk (3.9.0alpha1) rev. 16197)
- Fixed bug #8238: multilingual upgrade script cause seg fault, and has memory leakage.
  (Merged from trunk (3.9.0alpha1) rev. 16202)
- Fixed bug #8203: Memory leak in updatemultilingual.php
  (Merged from trunk (3.9.0alpha1) rev. 16202)
- Fixed bug #8469: updatemultilingual.php doesn't work with siteacceses in extensions.
  (Merged from trunk (3.9.0alpha1) rev. 16206). (Patch by Ole Marius Smestad)
- Fixed bug: Importing an OO document containing images does not work if clustering is enabled.
- Fixed bug #8394: Fatal error due to typo in clustering code.
- Fixed bug: bin/php/clusterize.php cannot load cluster handler
  from an extension.
- Fixed bug #8395: Not possible to define MySQL socket when using
  MySQL cluster handler.
- Fixed bug #8259: Performance issue with eZKeyword datatype.
  (Merged from trunk (3.9.0alpha1) rev. 16221)
- Fixed bug: "Relation" and "Relation List" attributes were not imported properly
  when installing a package.
  (Merged from trunk (3.9.0alpha1) rev. 16225)
- Fixed bug #8445: Poll return wrong report.
  (Merged from trunk (3.9.0alpha1) rev. 16227)
- Fixed bug #8342: Missing index on ezurlalias, eznode_assignment table.
  (Merged from trunk (3.9.0alpha1) rev. 16229)
