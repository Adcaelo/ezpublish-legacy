Changes from 3.5.0 to 3.5.1

NOTE: Only put changes that are for 3.5.1 in here, changes that are done in 3.5.0 and merged
      to 3.5.1 should not be present

*Kernel:
- Added support for user parameters in layout/set/ URLs.
- Added pdf view mode to CachedViewModes, merged from stable/3.4 rev. 10621.
- Modified: It is now possible to include additional PHP files for the
  simpletags operator.
  (Merged from stable/3.4 (3.4.5) rev. 10623)
- Added: new access function 'content/hide' that can be used to give a user
  ability to (un)hide nodes. It's possible to limit (un)hide access only 
  to subtree.
- Added support for setting information collection email sender in templates
  (Merged from stable/3.4 (3.4.5) rev. 10734)
- Fixed enhancement #5754: Fetch objects by translation

Webdav:
- Made sure extensions are enabled in webdav handler.
  (Merged from release/3.4.5 rev. 10888)
- Made sure site.ini and template.ini reloads its cache after extension
  enabling.
  (Merged from release/3.4.5 erv. 10890)

*Datatypes:

eZ Identifier:
- Fixed: Aqcuiring a unique ID is now done the first time an object is created
  and not only when it is created.
  (Merged from stable/3.4 (3.4.5) rev. 10568)
- Fixed: Acquiring a new unique ID is not present in previous versions.
  (Merged from stable/3.4 (3.4.5) rev. 10568)
- Fixed: Sort key were not in lowercase.
  (Merged from stable/3.4 (3.4.5) rev. 10568)

eZ Xmltext:
- Modified: Handling of special characters in xml fields.

*Bugfixes
- Fixed doxygen comment in ezrole.
  http://ez.no/community/bug_reports/ezrole_createtemporaryversion_claims_to_be_static_but_isn_t
  (Merged from stable/3.4, rev. 10357)
- Fixed bug: Deleting nodes -> role assignment isn't deleted.
  http://ez.no/community/bug_reports/3_5rc2_deleting_nodes_role_assignment_isn_t_deleted
  (Merged from stable/3.4/ rev. 10363)	  
- Fixed bug: Call to undefined function: ezi18n in eztopmenuoperator.php.
  http://ez.no/community/bug_reports/fatal_error_call_to_undefined_function_ezi18n_in_eztopmenuoperator_php
  (Merged from stable/3.5/ rev. 10368).
- Fixed bug: Wrong highlited tab and wrong redirection using "look and feel"
  http://ez.no/community/bugs/3_5_0rc2_wrong_highlited_tab_and_wrong_redirection_using_look_and_feel_option
- Fixed bug: Override template content/browse.tpl is not possible when match like section or class_identifier.
  http://ez.no/community/bugs/ovveride_template_browse_and_section_id
- Fixed bug: errors when usign 'attribute' template-operator.
  http://ez.no/community/bugs/object_ezcontentclassattribute_problems
  (Merged from stable/3.4 rev.10415)
- Fixed bug in 'ezinisetting' datatype validation.
  (http://ez.no/community/bugs/3_5rc2_global_settings_common_ini_settings_will_not_save)
- Fixed bug: possible undefined offset in sortKeyByClassAttributeID function
  (http://ez.no/community/bugs/3_5rc2_undefined_offset_undefined_index_in_ezcontentobjecttreenode_php)
- Fixed bug: fatal error when $node variable is not defined in template
  http://ez.no/community/bugs/template_compile_include_crash_when_node_not_defined
- Fixed bug that caused errors when searching for exact phrases with ezsearchengine plugin.
- Fixed bug  recursive object inclusion in xml field.
  http://ez.no/bugs/view/5989
- Object name is now exported/imported in all object versions and translations.
- Fixed bug 6010: SQL error in product statistics when year isn't selected and a month is selected.
  (Merged from stable/3.4 rev. 10460)
- Fixed bug #4299: No Translations update when changing an Object Relation Attribute with Disabled Translation.
  http://ez.no/community/bugs/no_translations_update_when_changing_an_object_relation_attribute_with_disabled_translation
  (Merged from stable/3.3 rev. 10470, also in stable/3.4 rev. 10471)
- Fixed "ezauthor" type bugs #6008, #5765. Added remove action check in validation function.
  (Manually merged from trunk/3.6 rev. 10469)
- Fixed bugs in eZAuthor class. Author's 'id' was treated like an array's index and vice versa.
  (Manually merged from trunk/3.6 rev. 10469)
- Fixed bug #6022: var_dump in ezcontentobjecttreenode.php.
- Fixed bug #5943: When changing the list of objects related to object A, translation of A were not updated.
  (Merged from stable/3.3 rev. 10477, also in stable/3.4 rev. 10478)
- Fixed bug #6013: Warnings in eZRole class. Array type check added.
- Fixed bug #6024: Debug: popup - wrong path to debug.html file.
  (Merged from stable/3.3 rev. 10486, also in stable/3.4 rev. 10488)
- Fixed bug #6027: PostgreSQL error in section/view.
- Fixed bug #4553: Problems with \0 characters for PostGreSQL and ezXML::createTextNode.
  http://ez.no/bugs/view/4553
  (Merged from stable/3.4, rev. 10502)
- Fixed bug #6035: Bug Using '&' in node title displays &amp; in line view.
- Fixed bug #5849: Paginated pages only print out first page instead of page being viewed.
  $site.original_uri attribute added.
  (Manually merged from trunk/3.6 rev. 10497)
- Fixed bug #6057: calendar toolbox with only 1. and last week of Jan 2005
  (Merged from stable/3.4, rev. 10522)
- Fixed bug using template caching, and not viewcache. Template cache is now cleared properly.
  Example : {cache-block} would not expire properly earlier when content cache was disabled. 
  Merged from stable/3.4 rev. 10531.
- Fixed bug #5965: Partially broken tipafriend functionality.
  ( Merged from trunk rev. 10535 ).
- Fixed bug #6097: Treemenu doesn't update after priority changes.
  ( Merged from trunk rev. 10541 ).
- Fixed bug #6030: Wrong function's name in workflow/edit.php.
- Fixed bug #6066: Error when remove node from subtree notification.
  (Merged from trunk rev. 10546 )
- Fixed: Some windows-* character-sets were missing from transformation.ini,
  they will now load the latin transformation file when used.
- Fixed: Adding eZ Identifier datatype does not generate ID for existing objects (Bug #6109)
  (Merged from stable/3.4 (3.4.5) rev. 10568)
- Fixed: Extensions could not override template.ini entries. (Bug #6129)
  (Merged from stable/3.4 (3.4.5) rev. 10607)
- Fixed bug #6092: Extra whitespace is added after link.
- Fixed bug 6102: Bug PDF Lists Content Empty.
- Fixed bug #6124: Subtree_expiry when template compiler disabled.
  (Merged from trunk/ (3.6.0alpha) rev. 10604 )
- Fixed: User setting DefaultSectionID in site.ini (Bug #6039)
  (Merged from stable/3.4 (3.4.5) rev. 10632)
- Fixed bug: Classification for paragraph is not rendered.
- Fixed bug #6117: Unable to change any states of view mode when ViewCaching is disabled.
  (Merged from trunk/ (3.6.0alpha1) rev. 10581)
- Fixed bug #6101: Wrong "day of the week" in countries with MondayFirst=yes.
  Duplicate of #5834: MondayFirst and wrong DayName.
  (Merged from 3.6.0alpha1 (rev. 10654))
- Fixed bug: Feed of RSS export was not cachied properly
  (Merged from stable/3.4 (3.4.5) rev. 10676)
- Fixed bug #6044: manage locations - caching problem.
- Fixed bug #6107: Variables loosing content in deep nesting template constructs.
  (Merged from stable/3.4 (3.4.5) rev. 10580)
- Added missing soap.php to distribution.
- Fixed bug #6094: eZPersistentObject uses a locale dependent decimal separator
  when generating SQL.
  (Merged from stable/3.4 (3.4.5) rev. 10694)
- Fixed bug #6096: URL management, possible cache problem.
- Fixed bug #4033: <literal> tag removes heading whitespace.
  (Merged from stable/3.3 (3.3-7) rev. 10697, also in stable/3.4 (3.4.5) rev.10706)
- Fixed bug #6144: URL management page counter faulty.
- Fixed bug #6040: RSS Import -- URLS are stored incorrectly into ezstring attributes.
  (Merged from stable/3.3 (3.3-7) rev. 10709)
- Fixed bug #6151: Buggy node fetching when using classfilter with nonexistent
  class identifier.
- Fixed bug #6166: forgot password entries are not removed once password is 
  regenerated.
- Fixed bug #6091: Template operators and locate settings problem.
  (Merged from stable/3.3 (3.3-7) rev. 10720, also in stable/3.4 (3.4.5) rev. 10721)
- Fixed bug #6169: SQL errors and general warnings when create new RSS export.
  ( Merged from trunk/3.6 rev. 10730 )
- Fixed bug #5967: Undefined variable warnings in compiled templates.
  (Merged from stable/3.4 (3.4.5) rev. 10741)
- Fixed bug #6034: eZMYSQLDB::query() unproper error handling
  (Merged from stable/3.4 (3.4.5) rev. 10747)
- Fixed bug #6032: sql error after deleting object.
  (Manually merged from stable/3.4 (3.4.5) rev. 10755)
- Fixed bug #4411: Modules does not work after creating node named like module.
  (Merged from stable/3.4 (3.4.5) rev. 10769)
- Fixed bug #6171:  Top level object problem. SQL errors.
  (Merged from trunk (3.6.0alpha) rev. 10763 )
- Fixed bug with extractEmail() in eZMail.
  (Also fixed in stable/3.4 (3.4.5) rev. 10777).
- Fixed bug #6179: Bug Symlinked entries in the extension dir will not been shown.
  (Merged from stable/3.4 (3.4.5) rev. 10780)
- Fixed bug #6165: A Problem with Paypal Extension in Ez 3.5.0.
- Fixed bug #5983: User id is not stored in workflow processes.
  (Merged from stable/3.4 (3.4.5) rev. 10784)
- Fixed bug: SQL error in some DBMSs when publishing a large article.
  (Merged from stable/3.3 (3.3-7) rev. 10801)
- Fixed bug #6185: Headers are not correctly rendered for XML-fields
- Fixed: Creation of an unneeded workflow process parameter led to multiple
  workflow processes.
  (Merged from stable/3.4 (3.4.5) rev. 10820)
- Fixed bug #6192: Unwanted XML field behavior with <table> tag.
- Fixed bug #6204: lib/compat.php missing by client code.
  (Manually merged from release/3.4.5 (3.4.5) rev. 10865)
- Fixed bug: Registering new user while being logged in causes troubles for the
  currently logged in user.
  (Merged from release/3.4.5 (3.4.5) rev. 10869)
- Fixed: SQL errors in ezkeyword and ezenum datatypes when running
  on PostgreSQL.

*Templates:
- Added nl2br operator to eztext view output to keep newlines in textfield datatype.

*Library:
- Added gif support to PDF library, merged from trunk.
- Fixed bug in eZDateTime with missing array in function setHMS().
