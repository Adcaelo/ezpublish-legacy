CREATE TABLE ezcontent_language
(
    id int NOT NULL default '0',
    disabled int NOT NULL default '0',
    locale varchar(20) NOT NULL default '',
    name varchar(255) NOT NULL default '',
    PRIMARY KEY (id)
);
                    
DROP TABLE ezcontent_translation;
                 
ALTER TABLE ezcontentobject ADD COLUMN language_mask int NOT NULL DEFAULT 0;
ALTER TABLE ezcontentobject ADD COLUMN initial_language_id int NOT NULL DEFAULT 0;

ALTER TABLE ezcontentobject_name ADD COLUMN language_id int NOT NULL DEFAULT 0;

ALTER TABLE ezcontentobject_attribute ADD COLUMN language_id int NOT NULL DEFAULT 0;

ALTER TABLE ezcontentobject_version ADD COLUMN language_mask int NOT NULL DEFAULT 0;
ALTER TABLE ezcontentobject_version ADD COLUMN initial_language_id int NOT NULL DEFAULT 0;

ALTER TABLE ezcontentclass ADD COLUMN always_available int NOT NULL DEFAULT 0;

-- updates
-- make Folder, User group, User, Image, File, Common ini settings, Template look	  always available.
-- update ezcontentclass set always_available=1 where remote_id in ('a3d405b81be900468eb153d774f4f0d2', '25b4268cdcd01921b808a0d854b877ef', '40faa822edc579b02c25f6bb7beec3ad', 'f6df12aa74e36230eb675f364fccd25a', '637d58bfddf164627bdfd265733280a0', 'ffedf2e73b1ea0c3e630e42e2db9c900', '59b43cd9feaaf0e45ac974fb4bbd3f92' );

ALTER TABLE ezcontentobject_link ADD COLUMN op_code int NOT NULL DEFAULT 0;

ALTER TABLE eznode_assignment ADD COLUMN op_code int NOT NULL DEFAULT 0;

-- updates
-- set correct op_code
-- mark as being moved
-- update eznode_assignment set op_code=4 where from_node_id > 0 and op_code=0;
-- mark as being created
-- update eznode_assignment set op_code=2 where from_node_id <= 0 and op_code=0;
-- mark as being set
-- update eznode_assignment set op_code=2 where remote_id != 0 and op_code=0;

-- changes merged into schemas at rev. 15231 23.mar.2006 10:16
