Changes to BC and behaviour in version 5.0
==========================================

Supported features
------------------

- setting either VarDir or CacheDir to an absolute directory in site.ini is no longer officially supported.
  the value will be accepted, but some features will have an unpredictable behaviour

Change of behavior
------------------

- "admin2" design has been renamed "admin"

  Everything specific to the old admin interface has been removed (see "Removed features").
  Since admin2 relied on admin, a merge of both directories has been operated.

  site.ini configuration of your admin backend:
  To avoid breakages, the "admin2" design is still referenced as SiteDesign or AdditionalSiteDesignList.
  If you are not overriding anything from admin2, it is suggested to update any references to it.
  Note that if you change "SiteDesign=admin2" to "SiteDesign=admin", you should probably remove
  AdditionalSiteDesignList[]=admin to avoid having "admin" twice in the list of site designs.

  content.ini configuration of all siteaccesses:
  In the case you are not overriding anything from admin2, you might want to update as well the
  AvailableSiteDesignList setting of all you siteaccesses.

- #19397: eZGeneralDigestUserSettings::create() signature change

  This method now expects the first parameter to be the user id instead of the an email address.

- eZINI::group() and eZINI::groups() do not return the array by reference anymore

  Those methods used to returns the array by reference to an internal array in the eZINI instance.

Removed features
----------------

- Old "admin" interface

  The old "admin" interface, deprecated since 4.4, has been removed. What exists in design/admin is the
  result of the merge of the newer admin interface "admin2" inside this directory.
  Everything that was specific to that old "admin" interface is now removed.

- Classes eZWebDAVServer, eZWebDAVFileServer, eZWebDAVContentServer and eZWebDAVContentServerWrapper

  Those classes were used prior the switch to ezc Webdav component.

- Class eZOverride

  Unused class since SVN revision 20881 and deprecated in 4.5.

- eZContentObject::removeReverseRelations()

  Unused and deprecated method.

- eZContentObject::revertTo()

  Unused and deprecated method.

- eZContentObject::expireTemplateBlockCacheIfNeeded()

  Unused and deprecated method.

- eZContentObjectTrashNode::fetchListForObject()

  Unused and deprecated method.

- kernel/common/ezincludefunctions.php

  All functions in this file have been deprecated previously and are now removed:
  kernel_include(), kernel_common(), datatype_class(), extension_path(),
  ext_include(), ext_activate(), ext_class(), lib_include(), lib_class() and kernel_class().

- access.php

  All functions in this file have been deprecated previously and are now removed:
  accessType(), changeAccess(), accessMatchRegexp(), accessMatchText(), accessDebugEnabled(),
  accessExtraDebugEnabled() and accessAllowed()

  The EZ_ACCESS_* constants of those files are removed as well.

- pre_check.php

  All functions in this file have been deprecated previously and are now removed:
  eZCheckValidity(), eZCheckList(), eZCheckUser(), eZCheckOrder(), eZHandlePreChecks() and
  precheckAllowed().

- kernel/common/image.php file

  The imageInit() function in this file has been deprecated previously and is now removed.

- Section [CountrySettings] of content.ini file

  The content of this section was deprecated in favor of country.ini.

- kernel/error/errors.php

  Contained old deprecated contants.

- eZSys::removeMagicQuotes() & eZSys::magickQuotes()

  Those were deprecated since 4.5 and magic quotes has been deprecated in PHP 5.3

- eZSys::phpVersionText(), eZSys::phpVersion() & eZSys::isPHPVersionSufficient()

  Those were deprecated since 4.5, use PHP_VERSION and other native php features instead.

- eZSys::isDebugEnabled() & eZSys::setIsDebugEnabled()

  Those were deprecated since 4.5.

- eZSiteAccess::debugEnabled() & eZSiteAccess::extraDebugEnabled()
  site.ini\[SiteAccessSettings]DebugAccess & DebugExtraAccess

  Those were deprecated since 4.5.

- eZDebug::timeToFloat()

  Was deprecated since 4.4, use microtime( true ) instead.

- Crypt hash type method for password.
  eZUser::PASSWORD_HASH_CRYPT

  Those were deprecated since 4.4.

- Method 'fileDeleteByRegex()' in various file handlers

  Those were deprecated previously because of severe performance issues.

- eZMySQLDB aka ezmysql driver

  This driver has been deprecated in 4.5 in favor of eZMySQLiDB, aka ezmysqli driver.

- eZDFSFileHandlerMySQLBackend

  mysql connectivity is replaced by mysqli one. Use eZDFSFileHandlerMySQLiBackend instead.

- eZDBFileHandlerMysqlBackend

  mysql connectivity is replaced by mysqli one. Use eZDBFileHandlerMysqliBackend instead.

- ezpDbMySQLClusterGateway

  This class was deprecated since 4.7.
  mysql connectivity is replaced by mysqli one. Use ezpDbMySQLiClusterGateway instead.

- Directory settings/siteaccess/admin

  This siteaccess was previously used for testing.

- site.ini/[TemplateSettings]/AutoloadPath

  Setting has been deprecated since 3.2 and replaced by AutoloadPathList.

- site.ini/[UserSettings]/VerifyUserEmail

  Setting has been deprecated since 4.1, use site.ini/[UserSettings]/VerifyUserType instead.

Deprecated
----------

- #19397: eZGeneralDigestUserSettings::fetchForUser() and eZGeneralDigestUserSettings::removeByAddress()

  Use eZGeneralDigestUserSettings::fetchByUserId() and eZGeneralDigestUserSettings::removeByUserID instead.
