{* DO NOT EDIT THIS FILE! Use an override template instead. *}
{let page_limit=30
     can_edit=false()}
{*     list_count=fetch('content','draft_count')} *}
<form action={concat("content/bookmark/")|ezurl} method="post" >

<h1>{"My bookmarks"|i18n("design/standard/content/view")}</h1>

{let bookmark_list=fetch('content','bookmarks',array())}

{section show=$bookmark_list}

<p>
    {"These are the objects you have bookmarked. Click on an object to view it or if you have sufficient permission you can to edit the object by clicking the edit button.
      If you want to add more objects to this list click the %emphasize_startAdd bookmarks%emphasize_stop button.

      Removing objects will only remove them from this list."
      |i18n("design/standard/content/view",,
            hash( '%emphasize_start', '<i>',
                  '%emphasize_stop', '</i>' ) )
      |nl2br}
</p>

{section loop=$bookmark_list}
  {section show=$:item.node.object.can_edit}
    {set can_edit=true()}
  {/section}
{/section}

<table class="list" cellspacing="0"">
<tr>
    <th class="tight">
    &nbsp;
    </th>
    <th class="wide">
        {"Name"|i18n("design/standard/content/view")}:
    </th>
    <th class="tight">
        {"Class"|i18n("design/standard/content/view")}:
    </th>
    <th class="tight">
        {"Section"|i18n("design/standard/content/view")}:
    </th>
    {section show=$can_edit}
        <th class="tight">
        &nbsp;
        </th>
    {/section}
</tr>

{section name=Bookmark loop=$bookmark_list sequence=array(bglight,bgdark)}
<tr class="{$:sequence}">
    <td>
        <input type="checkbox" name="DeleteIDArray[]" value="{$:item.id}" />
    </td>

    <td>
        <a href={concat("/content/view/full/",$:item.node_id,"/")|ezurl}>{$:item.node.object.content_class.identifier|class_icon( small, $:item.node.object.content_class.name )}&nbsp;{$:item.node.name|wash}</a>
    </td>

    <td>
        {$:item.node.object.content_class.name|wash}
    </td>

    <td>
        {$:item.node.object.section_id}
    </td>

    {section show=$can_edit}
        <td>
            {section show=$:item.node.object.can_edit}
                <a href={concat("content/edit/",$:item.node.contentobject_id)|ezurl}><img src={"edit.png"|ezimage} alt="{'Edit'|i18n('design/standard/content/view')}" /></a>
            {/section}
        </td>
    {/section}
</tr>
{/section}

<tr>
</table>

{*{include name=navigator
         uri='design:navigator/google.tpl'
         page_uri='/content/draft'
         item_count=$list_count
         view_parameters=$view_parameters
         item_limit=$page_limit}
*}
{section-else}

<div class="message-feedback">
    <h2>{"You have no bookmarks"|i18n("design/standard/content/view")}</h2>
</div>

{/section}

<div class="controlbar">
    <input class="button" type="submit" name="RemoveButton" value="{'Remove'|i18n('design/standard/content/view')}" />
    <input class="button" type="submit" name="AddButton" value="{'Add bookmarks'|i18n('design/standard/content/view')}" />
</div>


</form>

{/let}

{/let}

